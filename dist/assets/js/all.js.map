{"version":3,"sources":["all.js"],"names":["fetch","then","response","json","weatherData","console","log","Location","records","locations","location","forEach","element","Name","locationName","WX","weatherElement","time","elementValue","value","POP","MinT","MaxT","UV","UVI","img_src","Card","document","querySelector","innerHTML"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,KAAK,CAAC,woBAAD,CAAL,CACCC,IADD,CACM,UAAUC,QAAV,EAAoB;AACtB,SAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,CAHD,EAKCF,IALD,CAKM,UAAUG,WAAV,EAAuB;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AAEA,MAAIG,QAAQ,GAAGH,WAAW,CAACI,OAAZ,CAAoBC,SAApB,CAA8B,CAA9B,EAAiCC,QAAhD;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AAEAA,EAAAA,QAAQ,CAACI,OAAT,CAAiB,UAAAC,OAAO,EAAI;AACxB,QAAIC,IAAI,GAAGD,OAAO,CAACE,YAAnB;AACA,QAAIC,EAAE,GAAGH,OAAO,CAACI,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,CAA+B,CAA/B,EAAkCC,YAAlC,CAA+C,CAA/C,EAAkDC,KAA3D;AACA,QAAIC,GAAG,GAAGR,OAAO,CAACI,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,CAA+B,CAA/B,EAAkCC,YAAlC,CAA+C,CAA/C,EAAkDC,KAA5D;AACA,QAAIE,IAAI,GAAGT,OAAO,CAACI,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,CAA+B,CAA/B,EAAkCC,YAAlC,CAA+C,CAA/C,EAAkDC,KAA7D;AACA,QAAIG,IAAI,GAAGV,OAAO,CAACI,cAAR,CAAuB,EAAvB,EAA2BC,IAA3B,CAAgC,CAAhC,EAAmCC,YAAnC,CAAgD,CAAhD,EAAmDC,KAA9D;AACA,QAAII,EAAE,GAAGX,OAAO,CAACI,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,CAA+B,CAA/B,EAAkCC,YAAlC,CAA+C,CAA/C,EAAkDC,KAA3D;AACA,QAAIK,GAAG,GAAGZ,OAAO,CAACI,cAAR,CAAuB,CAAvB,EAA0BC,IAA1B,CAA+B,CAA/B,EAAkCC,YAAlC,CAA+C,CAA/C,EAAkDC,KAA5D;AAEA,QAAIM,OAAJ;;AACA,QAAIL,GAAG,IAAI,CAAX,EAAc;AACVK,MAAAA,OAAO,GAAG,qDAAV;AACH,KAFD,MAEO,IAAIL,GAAG,GAAG,EAAV,EAAc;AACjBK,MAAAA,OAAO,GAAG,qDAAV;AAEH,KAHM,MAGA,IAAIL,GAAG,GAAG,EAAV,EAAc;AACjBK,MAAAA,OAAO,GAAG,qDAAV;AACH,KAFM,MAEA;AACHA,MAAAA,OAAO,GAAG,qDAAV;AACH;;AAED,QAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;AACAF,IAAAA,IAAI,CAACG,SAAL,uFAEgBJ,OAFhB,4GAIuCZ,IAJvC,8FAMaE,EANb,wDAOgBM,IAPhB,sBAOgCC,IAPhC,0EAQkBF,GARlB,2EASmBG,EATnB,eAS0BC,GAT1B;AAaH,GAnCD;AAoCH,CA/CD","file":"all.js","sourcesContent":["// // 1.設一個變數把API的URL存起來\r\n// let url= \"https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-091?Authorization=CWB-E07F42AC-0591-4435-BE58-C3A36CC97440&locationName=%E5%AE%9C%E8%98%AD%E7%B8%A3,%E8%8A%B1%E8%93%AE%E7%B8%A3,%E8%87%BA%E6%9D%B1%E7%B8%A3,%E8%87%BA%E5%8C%97%E5%B8%82,%E6%96%B0%E5%8C%97%E5%B8%82,%E6%A1%83%E5%9C%92%E5%B8%82,%E8%87%BA%E4%B8%AD%E5%B8%82,%E8%87%BA%E5%8D%97%E5%B8%82,%E9%AB%98%E9%9B%84%E5%B8%82,%E5%9F%BA%E9%9A%86%E5%B8%82,%E6%96%B0%E7%AB%B9%E5%B8%82,%E8%8B%97%E6%A0%97%E7%B8%A3,%E5%BD%B0%E5%8C%96%E7%B8%A3,%E5%8D%97%E6%8A%95%E7%B8%A3,%E9%9B%B2%E6%9E%97%E7%B8%A3,%E5%98%89%E7%BE%A9%E7%B8%A3,%E5%98%89%E7%BE%A9%E5%B8%82,%E5%B1%8F%E6%9D%B1%E7%B8%A3&elementName=\";\r\n// // 2.new一個XMLHttpRequest物件(以此物件的方法進行資料請求)\r\n// let xhr = new XMLHttpRequest();\r\n// // 3.以GET方法開啟一個請求\r\n// //open('Method',API的URL,預設值為true非同步進行)\r\n// xhr.open('GET',url,true);\r\n// // 4.送出請求(若為GET參數不填或填null)\r\n// xhr.send();\r\n// xhr.onload = function(){\r\n//   var dataset = JSON.parse(this.responseText);\r\n//   console.log(dataset);\r\n// }\r\n\r\nfetch('https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-091?Authorization=CWB-E07F42AC-0591-4435-BE58-C3A36CC97440&locationName=%E5%AE%9C%E8%98%AD%E7%B8%A3,%E8%8A%B1%E8%93%AE%E7%B8%A3,%E8%87%BA%E6%9D%B1%E7%B8%A3,%E8%87%BA%E5%8C%97%E5%B8%82,%E6%96%B0%E5%8C%97%E5%B8%82,%E6%A1%83%E5%9C%92%E5%B8%82,%E8%87%BA%E4%B8%AD%E5%B8%82,%E8%87%BA%E5%8D%97%E5%B8%82,%E9%AB%98%E9%9B%84%E5%B8%82,%E5%9F%BA%E9%9A%86%E5%B8%82,%E6%96%B0%E7%AB%B9%E5%B8%82,%E8%8B%97%E6%A0%97%E7%B8%A3,%E5%BD%B0%E5%8C%96%E7%B8%A3,%E5%8D%97%E6%8A%95%E7%B8%A3,%E9%9B%B2%E6%9E%97%E7%B8%A3,%E5%98%89%E7%BE%A9%E7%B8%A3,%E5%98%89%E7%BE%A9%E5%B8%82,%E5%B1%8F%E6%9D%B1%E7%B8%A3&elementName=')\r\n.then(function (response) {\r\n    return response.json();\r\n})\r\n\r\n.then(function (weatherData) {\r\n    console.log(weatherData);\r\n\r\n    var Location = weatherData.records.locations[0].location\r\n    console.log(Location);\r\n\r\n    Location.forEach(element => {\r\n        var Name = element.locationName\r\n        var WX = element.weatherElement[6].time[0].elementValue[0].value\r\n        var POP = element.weatherElement[0].time[0].elementValue[0].value\r\n        var MinT = element.weatherElement[8].time[0].elementValue[0].value\r\n        var MaxT = element.weatherElement[12].time[0].elementValue[0].value\r\n        var UV = element.weatherElement[9].time[0].elementValue[0].value\r\n        var UVI = element.weatherElement[9].time[0].elementValue[1].value\r\n\r\n        var img_src\r\n        if (POP == 0) {\r\n            img_src = \"https://image.flaticon.com/icons/svg/578/578153.svg\"\r\n        } else if (POP < 25) {\r\n            img_src = \"https://image.flaticon.com/icons/svg/578/578116.svg\"\r\n\r\n        } else if (POP < 50) {\r\n            img_src = \"https://image.flaticon.com/icons/svg/578/578118.svg\"\r\n        } else {\r\n            img_src = \"https://image.flaticon.com/icons/svg/578/578132.svg\"\r\n        }\r\n\r\n        var Card = document.querySelector(\".row\")\r\n        Card.innerHTML += `\r\n        <div class=\"card col-sm-3 col-md-2\">\r\n            <img src=\"${img_src}\" alt=\"\">\r\n            <div class=\"card\">\r\n                <h1 class=\"font-weight-bold\">${Name}</h1>\r\n                <p>天氣現象：</p>\r\n                <p>${WX}</p>\r\n                <p>溫度：${MinT}&#8451 ~ ${MaxT}&#8451</p>\r\n                <p>降雨機率：${POP}%</p>\r\n                <p>紫外線指數：${UV} (${UVI})</p>\r\n            </div>\r\n        </div>\r\n        `\r\n    });\r\n});\r\n\r\n\r\n"]}